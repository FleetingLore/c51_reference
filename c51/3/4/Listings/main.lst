C51 COMPILER V9.60.7.0   MAIN                                                              11/16/2025 03:07:19 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main.lst) OB
                    -JECT(.\Objects\main.obj)

line level    source

   1          /* 3.4 æ§åˆ¶ LED ç§»ä½ = C:\\code_fleetinglore\c51\3\4 */
   2          
   3          #include <REGX52.H>
   4          
   5          /// æ— ç¬¦å·æ•´æ•°ç±»å‹çš„åˆ«å
   6          #define uint unsigned int
   7          #define uchar unsigned char
   8          
   9          /// å»¶æ—¶å‚æ•°
  10          const uint AWAIT = 20;
  11          
  12          /// åˆ›ä¸–ç¯ä½
  13          const uchar ROOT = 0x01;
  14          
  15          /**
  16           * [æ¯«ç§’çº§å»¶æ—¶å‡½æ•°]
  17           * 
  18           * åªæ˜¯ç”¨å¾ªç¯æ¥ç®€å•æ¨¡æ‹Ÿï¼Œç¼ºé™·æ˜¯å¯¹äºä¸åŒçš„è®¾å¤‡è¡¨ç°ä¸ä¸€è‡´ã€‚
  19          */
  20          void delay_ms(uint t) {
  21   1          uchar j;
  22   1          while(t--) {
  23   2              j = 85;
  24   2              while (j--);
  25   2          }
  26   1      }
  27          
  28          void main() {
  29   1          /// åˆå§‹åŒ–ï¼Œåç§»ä¸º `0`
  30   1          uchar ip = 0;
  31   1          
  32   1          /// åˆå§‹åŒ–ï¼Œè®© `D1` ä¸€å¼€å§‹å°±äº®
  33   1          P2 = ~(ROOT << ip);
  34   1              
  35   1          while (1) {   
  36   2              /* æŒ‰ `K_1` å·¦ç§» */ {
  37   3                  if (P3_1 == 0) {
  38   4                      /* æ¶ˆæŠ– */ {
  39   5                          // æŠ–åŠ¨
  40   5                          delay_ms(AWAIT);
  41   5                          
  42   5                          // æŒ‰ä½æ—¶
  43   5                          while (P3_1 == 0);
  44   5                          
  45   5                          // æ¾æ‰‹å
  46   5                          delay_ms(AWAIT);
  47   5                      }
  48   4                      
  49   4                      /* é¥±å’Œè¿”å› */
  50   4                      if (ip == 0) {
  51   5                          continue;
  52   5                      }
  53   4                      
  54   4                      /* ç‚¹äº®ç¯ä½å·¦ç§» */ {
C51 COMPILER V9.60.7.0   MAIN                                                              11/16/2025 03:07:19 PAGE 2   

  55   5                          ip--;
  56   5                          P2 = ~(ROOT << ip);
  57   5                      }
  58   4                  }
  59   3              }
  60   2              
  61   2              /* æŒ‰ `K_2` å³ç§» */ {
  62   3                  if (P3_0 == 0) {
  63   4                      /* æ¶ˆæŠ– */ {
  64   5                          // æŠ–åŠ¨
  65   5                          delay_ms(AWAIT);
  66   5                          
  67   5                          // æŒ‰ä½æ—¶
  68   5                          while (P3_0 == 0);
  69   5                          
  70   5                          // æ¾æ‰‹å
  71   5                          delay_ms(AWAIT);
  72   5                      }
  73   4      
  74   4                  
  75   4                      /* é¥±å’Œè¿”å› */
  76   4                      if (ip == 7) {
  77   5                          continue;
  78   5                      }
  79   4                      /**
  80   4                      * è‹¥æ“ä½œç›´æ¥é¢å‘ `P2`ï¼Œæ­¤å¤„å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆæƒ…å†µã€
             -‚
  81   4                      */
  82   4                  
  83   4                      /* ç‚¹äº®ç¯ä½å³ç§» */ {
  84   5                          ip++;
  85   5                          P2 = ~(ROOT << ip);
  86   5                      }
  87   4                  }
  88   3              }
  89   2          }
  90   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    104    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
